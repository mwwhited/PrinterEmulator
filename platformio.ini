[env:megaatmega2560]
platform = atmelavr
board = megaatmega2560
framework = arduino

; Build settings for Arduino Mega 2560
build_flags = 
    -Os
    -DARDUINO_AVR_MEGA2560
    -DF_CPU=16000000L

; Required libraries for MegaDeviceBridge
lib_deps = 
    SPI
    SD
    Wire
    LiquidCrystal

; Monitor settings
monitor_speed = 115200
monitor_filters = 
    default
    time

; Debug configuration
debug_tool = avr-stub
debug_build_flags = -O0 -g3 -ggdb

; Memory optimization
build_unflags = 
    -std=gnu++11
build_flags = 
    ${env.build_flags}
    -std=gnu++17
    -fno-exceptions
    -fno-rtti
    -ffunction-sections
    -fdata-sections
    -Wl,--gc-sections
    -mcall-prologues